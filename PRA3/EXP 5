package hotel;

// a) INTERFAZ: abstrae el canal de notificaci贸n
interface CanalNotificacion {
    void enviarNotificacion(String mensaje);
}

// b) IMPLEMENTACIONES CONCRETAS
class EnviadorCorreo implements CanalNotificacion {
    @Override
    public void enviarNotificacion(String mensaje) {
        System.out.println(" Correo enviado: " + mensaje);
    }
}

class EnviadorSMS implements CanalNotificacion {
    @Override
    public void enviarNotificacion(String mensaje) {
        System.out.println(" SMS enviado: " + mensaje);
    }
}

class NotificadorSlack implements CanalNotificacion {
    @Override
    public void enviarNotificacion(String mensaje) {
        System.out.println(" Notificaci贸n Slack: " + mensaje);
    }
}

// c) NOTIFICADOR RESERVA (usa inyecci贸n de dependencias)
class NotificadorReserva {
    private CanalNotificacion canal;

    // Inyecci贸n por constructor
    public NotificadorReserva(CanalNotificacion canal) {
        this.canal = canal;
    }

    public void notificar(String mensaje) {
        canal.enviarNotificacion(mensaje);
    }
}

// d) CONTROLADOR PRINCIPAL
public class Main {
    public static void main(String[] args) {
        // Podemos elegir el canal de notificaci贸n
        CanalNotificacion correo = new EnviadorCorreo();
        CanalNotificacion sms = new EnviadorSMS();
        CanalNotificacion slack = new NotificadorSlack();

        // Inyectamos el canal en el notificador
        NotificadorReserva notificadorCorreo = new NotificadorReserva(correo);
        NotificadorReserva notificadorSMS = new NotificadorReserva(sms);
        NotificadorReserva notificadorSlack = new NotificadorReserva(slack);

        // Simulaci贸n de reservas
        System.out.println("=== PRUEBA DE NOTIFICACIONES ===");
        notificadorCorreo.notificar("Reserva confirmada para la habitaci贸n 101.");
        notificadorSMS.notificar("Check-in ma帽ana a las 14:00 para habitaci贸n 202.");
        notificadorSlack.notificar("Nueva reserva registrada en el sistema.");
    }
}
